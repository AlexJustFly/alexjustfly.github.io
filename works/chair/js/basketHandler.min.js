"use strict";for(var finalPrice=document.getElementsByClassName("basket-product__money"),basketCount=document.getElementsByClassName("basket-product__number"),checkoutPrice=document.getElementById("checkout-price"),productPrice=document.getElementsByClassName("product__money"),checkoutPriceCount=0,i=0;i<finalPrice.length;i++)checkoutPriceCount+=Number(finalPrice[i].innerHTML),checkoutPrice.innerHTML=checkoutPriceCount;var plusBasket=function(){for(var e=0;e<finalPrice.length;e++)!function(e){document.getElementsByClassName("plus")[e].onclick=function(){basketCount[e].value=++basketCount[e].value,finalPrice[e].innerHTML=basketCount[e].value*productPrice[e].innerText,checkoutPriceCount+=Number(productPrice[e].innerHTML),checkoutPrice.innerHTML=checkoutPriceCount}}(e)},minusBasket=function(){for(var e=0;e<finalPrice.length;e++)!function(e){document.getElementsByClassName("minus")[e].onclick=function(){basketCount[e].value<=1?(basketCount[e].value="1",finalPrice[e].innerHTML=productPrice[e].innerText):(basketCount[e].value=--basketCount[e].value,finalPrice[e].innerHTML=basketCount[e].value*productPrice[e].innerText,checkoutPriceCount-=productPrice[e].innerHTML,checkoutPrice.innerHTML=checkoutPriceCount)}}(e)},keyUp=function(){for(var e=0;e<basketCount.length;e++)!function(t){basketCount[t].onkeyup=function(){finalPrice[t].innerHTML=basketCount[t].value*productPrice[t].innerText;for(var e=checkoutPriceCount=0;e<finalPrice.length;e++)checkoutPriceCount+=Number(finalPrice[e].innerHTML),checkoutPrice.innerHTML=checkoutPriceCount}}(e)},basketProduct=document.getElementsByClassName("basket-product"),deleteBasket=function t(){for(var e=0;e<basketProduct.length;e++)!function(e){document.getElementsByClassName("basket__icon_delete")[e].onclick=function(){checkoutPriceCount-=Number(finalPrice[e].innerHTML),basketProduct[e].remove(),checkoutPrice.innerHTML=checkoutPriceCount,minusBasket(),plusBasket(),t(),keyUp()}}(e)};function setInputFilter(t,n){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(e){t.addEventListener(e,function(){n(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})}minusBasket(),plusBasket(),deleteBasket(),keyUp();for(var _i6=0;_i6<basketCount.length;_i6++)setInputFilter(basketCount[_i6],function(e){return/^\d*$/.test(e)&&(""===e||parseInt(e)<=500)});